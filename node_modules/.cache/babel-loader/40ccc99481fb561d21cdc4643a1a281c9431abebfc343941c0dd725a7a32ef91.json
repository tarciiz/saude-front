{"ast":null,"code":"import _slicedToArray from\"C:/Users/sidta/OneDrive/Documentos/Projects/sa\\xFAde/saude-front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{faXmark}from'@fortawesome/free-solid-svg-icons';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import Dropdown from'react-bootstrap/Dropdown';import{get}from\"../../config/requisitions\";import'./LookupField.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function LookupField(props){var f=props.field;var endpoint_get=props.field.lookup.endpoints.get;var forView=props.forView?props.forView:false;var buildObject=props.buildObject;var _useState=useState(undefined),_useState2=_slicedToArray(_useState,2),selItem=_useState2[0],setSelItem=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showDown=_useState4[0],setShowDown=_useState4[1];var _useState5=useState([{id:'123',name:\"Teste\"},{id:\"0981\",name:\"Abue bue\"}]),_useState6=_slicedToArray(_useState5,2),list=_useState6[0],setList=_useState6[1];useEffect(function(){get(endpoint_get).then(function(resultList){console.log(\"Result \",resultList);setList(resultList);}).catch(function(error){console.log(\"Erro \",error);});},[]);return/*#__PURE__*/_jsxs(\"div\",{style:{'width':'inherit'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-with-icon\",children:[selItem===undefined?'':/*#__PURE__*/_jsx(FontAwesomeIcon,{id:\"fa\",icon:faXmark,onClick:function onClick(e){removeItem();}}),selItem===undefined?/*#__PURE__*/_jsx(\"input\",{id:f.f_name,class:\"form-control\",name:f.f_name,type:f.f_type,onKeyDown:function onKeyDown(e){return find(e);},defaultValue:\"\"}):/*#__PURE__*/_jsx(\"input\",{id:f.f_name,class:\"form-control\",name:f.f_name,type:f.f_type,value:selItem?selItem.name:''})]}),/*#__PURE__*/_jsx(\"div\",{className:\"input-with-icon\",children:/*#__PURE__*/_jsx(Dropdown.Menu,{show:showDown,style:{'width':'100%'},children:list.map(function(item,index){return/*#__PURE__*/_jsxs(Dropdown.Item,{onClick:function onClick(e){selectItem(item);},eventKey:index.toString(),children:[/*#__PURE__*/_jsx(\"i\",{class:\"fas \"+f.lookup.l_fa_logo,style:{'marginRight':'10px'}}),item.name]});})})})]});function find(e){setShowDown(true);}function removeItem(){setSelItem(undefined);makeLookup(undefined);}function selectItem(item){makeLookup(item);setShowDown(false);setSelItem(item);}function makeLookup(item){var tgt={value:item===undefined?null:{id:item.id},name:f.f_name};buildObject({target:tgt});}}export default LookupField;","map":{"version":3,"names":["React","useState","useEffect","faXmark","FontAwesomeIcon","Dropdown","get","jsx","_jsx","jsxs","_jsxs","LookupField","props","f","field","endpoint_get","lookup","endpoints","forView","buildObject","_useState","undefined","_useState2","_slicedToArray","selItem","setSelItem","_useState3","_useState4","showDown","setShowDown","_useState5","id","name","_useState6","list","setList","then","resultList","console","log","catch","error","style","children","className","icon","onClick","e","removeItem","f_name","class","type","f_type","onKeyDown","find","defaultValue","value","Menu","show","map","item","index","Item","selectItem","eventKey","toString","l_fa_logo","makeLookup","tgt","target"],"sources":["C:/Users/sidta/OneDrive/Documentos/Projects/saÃºde/saude-front/src/components/LookupField/LookupField.js"],"sourcesContent":["\r\nimport React, { useState, useEffect } from 'react';\r\n\r\nimport { faXmark } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport Dropdown from 'react-bootstrap/Dropdown';\r\nimport {get} from \"../../config/requisitions\";\r\nimport  './LookupField.css';\r\n\r\nfunction LookupField(props){\r\n    const f = props.field;\r\n    const endpoint_get = props.field.lookup.endpoints.get;\r\n    const forView = props.forView ? props.forView: false;\r\n    const buildObject = props.buildObject;\r\n\r\n    const [selItem, setSelItem] = useState(undefined);\r\n    const [showDown, setShowDown] = useState(false);\r\n\r\n    const [list, setList] = useState([{id:'123', name:\"Teste\"}, {id:\"0981\", name:\"Abue bue\"}])\r\n\r\n    useEffect(()=>{\r\n        get(endpoint_get).then(resultList=>{\r\n            console.log(\"Result \", resultList)\r\n            \r\n            setList(resultList)\r\n        }).catch(error=>{\r\n            console.log(\"Erro \", error)\r\n        })\r\n    },[])\r\n    \r\n    \r\n    return(\r\n        <div style={{'width':'inherit'}}>\r\n            <div className=\"input-with-icon\"> \r\n                {selItem === undefined ? '': <FontAwesomeIcon id=\"fa\" icon={faXmark} onClick={e=>{removeItem()}}/>}\r\n\r\n                {selItem === undefined ? \r\n                <input id={f.f_name} class=\"form-control\" name={f.f_name} type={f.f_type} onKeyDown={e=>find(e)} defaultValue=\"\"/>\r\n                :<input id={f.f_name} class=\"form-control\" name={f.f_name} type={f.f_type} value={selItem ? selItem.name :''} />}\r\n                \r\n                \r\n            </div>\r\n            <div className=\"input-with-icon\">\r\n                <Dropdown.Menu show={showDown} style={{'width':'100%'}}>\r\n\r\n                    {list.map((item, index)=>(\r\n                            <Dropdown.Item onClick={e=>{selectItem(item)}} eventKey={index.toString()}>\r\n                                <i class={\"fas \"+f.lookup.l_fa_logo} style={{'marginRight':'10px'}}></i>\r\n                                \r\n                                {item.name}\r\n                            </Dropdown.Item>\r\n                    ))}\r\n                </Dropdown.Menu>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n    function find(e){\r\n        setShowDown(true)\r\n    }\r\n\r\n    function removeItem(){        \r\n        setSelItem(undefined)\r\n        makeLookup(undefined)\r\n    }\r\n\r\n    function selectItem(item){       \r\n        makeLookup(item)\r\n        setShowDown(false)\r\n        setSelItem(item)\r\n\r\n    }\r\n    \r\n    function makeLookup(item){\r\n        let tgt = {value:(item === undefined) ? null: {id:item.id}, name:f.f_name}\r\n\r\n\r\n        buildObject({target:tgt})\r\n    }\r\n}\r\n\r\nexport default LookupField;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}